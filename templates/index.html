{% extends "base.html" %}
{% block content %}

    <!--SEARCH-->
    <div class="vm1 container mt1">
        <div class="row">
            <form class="col s8" action="{{ url_for('search') }}" method="post">
                <div class="input-field flex">
                    <input type="text" name="query" id="query" minlength="3" class="validate" required>
                    <label class="flex-space" for="query">Search Recipes</label>
                    <button id="search-button"  type="submit" class="transparent blue-grey-text text-darken-3 no-border"><i class="fas fa-search left"></i>
                    </button>
                </div>
            </form>
            <div class="input-field col s4">
                <form action="{{ url_for('recipes') }}" method="POST" >
                    <select id="sort_by" name="sort_by" onchange="this.form.submit()">
                        <option value="" disabled selected>Sort By</option>
                        <option value="az">A-Z</option>
                        <option value="za">Z-A</option>
                        <option value="newest">Newest</option>
                        <option value="oldest">Oldest</option>
                    </select>
                </form>
            </div>
        </div>
    </div>

<!--Recipe Cards-->
<div class="row container">
    {% for recipe in recipes %}
        {% include "recipe_cards.html" %}
        {% include "recipe_cards_lg.html" %}
    {% endfor %}
</div>

    <!--PAGINATION-->
    <ul class="pagination center-align margin-bottom-large">
        {% for page_num in pages %} 
            {% if page_num == current_page %}
            <li class="active"><a>{{ page_num }}</a></li>
            {% else %}
            <li class="waves-effect">
            <a href="{{ url_for('recipes', current_page=page_num, recipes=recipes) }}">{{ page_num }}</a>
            </li>
            {% endif %} 
        {% endfor %}
    </ul>


{% endblock %}